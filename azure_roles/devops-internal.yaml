# azure_roles/devops-internal.yaml
name: "DevOps-Internal-Master"
description: "Full management across APIM, Container Apps, VMs, and Storage"
actions:
  # # Compute & Fleet
  # - "Microsoft.Compute/virtualMachines/*"
  # - "Microsoft.Compute/disks/*"
  # - "Microsoft.Compute/availabilitySets/*"

  # # Container Apps & Modern Apps
  # - "Microsoft.App/containerApps/*"
  # - "Microsoft.App/managedEnvironments/*"

  # # API Management
  # - "Microsoft.ApiManagement/service/*"

  # # Storage & Data
  # - "Microsoft.Storage/storageAccounts/*"

  # # Maintenance & Governance
  # - "Microsoft.Maintenance/maintenanceConfigurations/*"
  # - "Microsoft.Maintenance/applyUpdates/*"
  # - "Microsoft.Resources/subscriptions/resourceGroups/*"

  # # IAM Control
  # - "Microsoft.Authorization/roleAssignments/*"
  # - "Microsoft.Authorization/roleDefinitions/*"

  - "Microsoft.Compute/*"
  - "Microsoft.Network/*"
  - "Microsoft.Storage/*"
  - "Microsoft.Resources/*"
  - "Microsoft.Authorization/*"
  - "Microsoft.Insights/*"
notActions:
  - "Microsoft.Authorization/roleDefinitions/write"
  - "Microsoft.Authorization/roleDefinitions/delete"
  - "Microsoft.Storage/storageAccounts/delete"
  - "Microsoft.Sql/servers/databases/delete"
  - "Microsoft.DBforMySQL/servers/delete"
  - "Microsoft.DBforPostgreSQL/servers/delete"
  - "Microsoft.KeyVault/vaults/delete"
  - "Microsoft.KeyVault/vaults/keys/delete"
  - "Microsoft.KeyVault/vaults/secrets/delete"
